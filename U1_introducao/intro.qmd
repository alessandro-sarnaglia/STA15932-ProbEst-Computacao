---
title: "Probabilidade e Estat√≠stica"
subtitle: "Introdu√ß√£o e Estat√≠stica Descritiva"
author: "Prof. Dr. Alessandro JQ Sarnaglia"
lang: "pt"
format:
  revealjs:
    fig-width: 5.5
    fig-height: 5.5
    theme: [custom.scss]
    css: fonts.css
    toc: true
    toc-depth: 2
    toc-expand: 2
    number-sections: true
    number-depth: 2
    footer: "[Voltar üîô](../index.html)"
    menu:
      useTextContentForMissingTitles: false
editor: visual
filters:
  - parse-latex
---

```{r}
library(xtable)
library(gt)
library(gtsummary)
tab_op <- function(tbl){
  tab_options(data = tbl,
              table.font.size = "100%",
              table.border.top.color="#000000",
              table.border.bottom.color = "#000000",
              table.border.top.width = "1px",
              table.border.bottom.width = "1px",
              column_labels.border.top.color="#000000",
              column_labels.border.bottom.color="#000000",
              column_labels.border.top.width = "1px",
              column_labels.border.bottom.width = "1px",
              row_group.border.top.color = "#000000",
              row_group.border.bottom.color = "#000000",
              row_group.border.top.width = "1px",
              row_group.border.bottom.width = "1px",
              table_body.border.top.color = "#000000",
              table_body.border.bottom.color = "#000000",
              table_body.border.top.width = "1px",
              table_body.border.bottom.width = "1px",
              summary_row.border.color = "#000000",
              summary_row.border.width = "1px",
              table_body.hlines.color = "#000000",
              table_body.hlines.width = "1px")
}
```

# Programa e avalia√ß√µes

##  {.unnumbered .unlisted}

### Programa

::: incremental
1.  Introdu√ß√£o e estat√≠stica descritiva;
2.  Probabilidade de eventos;
3.  Vari√°veis aleat√≥rias;
4.  Infer√™ncia estat√≠stica.
:::

::: fragment
::: {.callout-note icon="false"}
## Bibliografia

üìö Devore, J. L., & Cordeiro, M. T. A. (2012). Probabilidade e estat√≠stica: para engenharia e ci√™ncias. S√£o Paulo: Cengage Learning;

üìö Morettin, P. A., & Bussab, W. O. (2013). Estat√≠stica b√°sica. S√£o Paulo: Saraiva.
:::
:::

##  {.unnumbered .unlisted}

### Avalia√ß√µes

::: incremental
1.  Avalia√ß√£o 1 $\Rightarrow$ Unidades 1 e 2;
2.  Avalia√ß√£o 2 $\Rightarrow$ Unidade 3;
3.  Avalia√ß√£o 3 $\Rightarrow$ Unidade 4.
:::

::: fragment
[**Importante:** datas ser√£o definidas em conjunto com a turma.]{style="color:red;"}
:::

::: fragment
**Contatos e sala:**

-   üìß alessandro.sarnaglia\@ufes.br;
-   ‚òéÔ∏è (27) 4009-2822;
-   üñ•Ô∏è Sala 305 - Bloco B do IC1.
:::

# Introdu√ß√£o

## Contextualiza√ß√£o

**O que √© Estat√≠stica?** Campo da ci√™ncia que se dedica a coleta e an√°lise de dados.

**Import√¢ncia:** A Estat√≠stica √© particularmente interessante nas seguintes situa√ß√µes:

::: incremental
-   Descri√ß√£o de caracter√≠sticas importantes de qualquer tipo de vari√°vel;
-   Extra√ß√£o de informa√ß√µes/padr√µes em grande quantidade de dados;
-   Tomada de decis√µes em situa√ß√µes que apresentem varia√ß√£o/incerteza;
:::

##  {.unnumbered .unlisted}

### Exemplo

Uma tarefa √© executada v√°rias vezes em um mesmo computador e os tempos de execu√ß√£o s√£o registrados. Nesse caso, a Estat√≠stica pode ajudar a:

::: incremental
-   Avaliar um tempo t√≠pico que a tarefa leva para ser executada e mensurar a variabilidade das observa√ß√µes com respeito a esse valor;
-   Identificar poss√≠veis padr√µes sugeridos pela amostra;
-   Fazer afirma√ß√µes gerais sobre o fen√¥meno que d√° origem aos dados, a partir de uma amostra;
-   Realizar previs√µes com base em dados hist√≥ricos.
:::

##  {.unnumbered .unlisted .smaller}

### Exemplo - II

Veja abaixo 15 r√©plicas do tempo necess√°rio para ordenar $n$ observa√ß√µes, com: (esquerda) $n=100000$ fixo; (direita) $n=100000r$ para a r√©plica $r$.

```{r echo=FALSE, message=FALSE, warning=FALSE}
#| label: fig-ex1
#| fig-width: 4.5
#| fig-asp: .8
#| fig-align: center
#| fig-cap: "Tempo de ordena√ß√£o de uma amostra"
#| fig-subcap: 
#|   - "$n$ fixo"
#|   - "$n$ crescente"
#| layout-ncol: 2
R <- 15; tpause <- 0
n1 <- rep(100000, R)
n2 <- 100000*(1:R)
t1 <- t2 <- NULL
for(i in 1:R){
  am1 <- runif(n1[i]); am2 <- runif(n2[i])
  Sys.sleep(tpause)
  t0_1 <- proc.time()[3]
  aux <- sort(am1)
  tf_1 <- proc.time()[3]
  Sys.sleep(tpause)
  t0_2 <- proc.time()[3]
  aux <- sort(am2)
  tf_2 <- proc.time()[3]
  t1[i] <- tf_1 - t0_1
  t2[i] <- tf_2 - t0_2
}
par(mar = c(3, 3, .5, .5))
plot(t1, pch=19, xlab='', ylab='', ylim=range(t1, t2))
mtext(text = 'R√©plica', side = 1, line = 2); mtext(text = 'Tempo', side = 2, line = 2)
plot(t2, pch=19, xlab='', ylab='', ylim=range(t1, t2))
mtext(text = 'R√©plica', side = 1, line = 2); mtext(text = 'Tempo', side = 2, line = 2)
```

##  {.unnumbered .unlisted .smaller}

### Exemplo - III

::: fragment
A [Fig @fig-ex1-1] nos mostra que:

::: incremental
-   o tempo de execu√ß√£o tende a apresentar valores em torno de uma quantidade fixa;
-   al√©m do valor de "tend√™ncia central", pode ser de interesse quantificar a variabilidade em torno desse valor.
:::
:::

::: fragment
J√° a [Fig @fig-ex1-2] sugere que:

::: incremental
-   n√£o h√° "estacionariedade", n√£o fazendo sentido falar em um √∫nico valor de tend√™ncia central!
-   aparentemente h√° comportamento linear, o que permitiria a previs√£o de valores n√£o observados.
:::
:::

## Processo estat√≠stico

![Ilustra√ß√£o do processo estat√≠stico](figs/etapas_est_estat.png){#fig-campos fig-align="center"}

# Estat√≠stica Descritiva

## Conceitos b√°sicos

**Popula√ß√£o:** √© o conjunto de todos indiv√≠duos (Unidades Experimentais - *UE*) que se tem interesse de investigar.

**Censo:** processo de observa√ß√£o de toda a popula√ß√£o;

Fatores que podem impedir a realiza√ß√£o de um censo:

::: incremental
-   Alto custo;
-   Demanda muito tempo;
-   Observa√ß√£o pode danificar os indiv√≠duos;
-   Popula√ß√£o de tamanho infinito ou desconhecido.
:::

## Conceitos b√°sicos - II {.unnumbered .unlisted}

Devido aos obst√°culos de se realizar um censo, uma alternativa consiste de observar uma parcela da popula√ß√£o.

. . .

**Amostra:** qualquer parcela de indiv√≠duos da popula√ß√£o.

. . .

[*Importante!*]{style="color:red;"} Para podermos extrapolar os resultados da amostra para a popula√ß√£o, necessitamos que a amostra seja [representativa]{.underline}, isto √©, que represente bem a popula√ß√£o.

. . .

**Amostragem:** campo de estudo de t√©cnicas de coleta de amostras representativas.

## Conceitos b√°sicos - III {.unnumbered .unlisted}

**Amostragem probabil√≠stica:** qualquer t√©cnica de sele√ß√£o amostral que garanta que as probabilidades de inclus√£o de cada elemento s√£o maiores que zero e conhecidas.

. . .

Conceitualmente, a **Amostragem Aleat√≥ria Simples** (AAS) √© o plano de amostragem probabil√≠stica mais b√°sico.

. . .

A AAS consiste da sele√ß√£o aleat√≥ria de $n$ (tamanho amostral) elementos uma lista de todos elementos da popula√ß√£o (*marco amostral*).

. . .

**Dificuldade:** em muitos casos, a obten√ß√£o do marco amostral √© invi√°vel.

## Conceitos b√°sicos - IV {.unnumbered .unlisted}

Em geral, n√£o h√° interesse nos indiv√≠duos em si, mas em caracter√≠sticas, num√©ricas ou n√£o dos mesmos.

::: fragment
**Vari√°vel:** caracter√≠stica num√©rica ou n√£o compartilhada por todos indiv√≠duos da popula√ß√£o.
:::

```{r fig}
```

::: columns
::: {.column width="40%"}
::: fragment
![](figs/variaveis.png){fig-align="center"}
:::
:::

::: {.column width="60%"}
::: fragment
As vari√°veis s√£o classificadas pelos valores que podem apresentar.

**Exemplo:** "Profiss√£o" e "Renda" apresentam valores de ess√™ncia completamente diferentes.
:::
:::
:::

## Tipos de vari√°veis

A classifica√ß√£o de vari√°veis √© muito importante, pois auxilia na escolha dos m√©todos de Estat√≠stica Descritiva apropriados.

. . .

Por exemplo, n√£o faz sentido falar em soma e produto de vari√°veis n√£o num√©ricas. Assim, medidas como a m√©dia n√£o podem ser calculadas para esse tipo de vari√°veis.

. . .

Vejamos as defini√ß√µes dos diferentes tipos de vari√°veis.

## Tipos de vari√°veis - II {.unnumbered .unlisted}

### Vari√°veis qualitativas (ou categ√≥ricas)

Apresentam valores [n√£o num√©ricos]{.underline} (tamb√©m chamadas de categorias). Se dividem em:

::: incremental
-   Ordinais ‚üπ quando os poss√≠veis categorias admitem algum tipo de ordena√ß√£o;
-   Nominais ‚üπ quando n√£o h√° uma estrutura de ordena√ß√£o natural das categorias.
:::

## Tipos de vari√°veis - III {.unnumbered .unlisted}

### Vari√°veis quantitativas (ou num√©ricas)

Apresentam valores [num√©ricos]{.underline}. Se dividem em:

::: incremental
-   Discretas ‚üπ quando os poss√≠veis valores formam um conjunto [enumer√°vel]{.underline};
-   Cont√≠nuas ‚üπ quando os poss√≠veis valores formam um conjunto [n√£o enumer√°vel]{.underline};
:::

##  {.unnumbered .unlisted .smaller}

**Exemplo:** Uma compara√ß√£o de algoritmos para ordena√ß√£o de um conjunto de dados produziu o seguinte banco de dados:

```{=latex}
\begin{table}\centering
\begin{tabular}{cccc}
Algoritmo & Tamanho Amostral & N√∫cleos & Tempo \\ \hline
 A         & Pequeno $(n = 10^2)$ & 4       & $<\text{0,01}$ \\
 B         & Pequeno $(n = 10^2)$ & 4       & $\text{0,01}$  \\
 A         & Interm. $(n = 10^3)$ & 4       & $<\text{0,01}$ \\
 B         & Interm. $(n = 10^3)$ & 4       & $\text{0,79}$  \\
 A         & Grande $(n = 10^4)$  & 4       & $<\text{0,01}$ \\
 B         & Grande $(n = 10^4)$  & 4       & $\text{51,00}$ \\
 A         & Pequeno $(n = 10^2)$ & 8       & $<\text{0,01}$ \\
 B         & Pequeno $(n = 10^2)$ & 8       & $<\text{0,01}$ \\
\end{tabular}
\end{table}
```
::: fragment
Tipos das vari√°veis: Algoritmo (nominal); Tamanho amostral (ordinal ou discreta); N√∫cleos (discreta); e Tempo (cont√≠nua).
:::

## Distribui√ß√µes de frequ√™ncias

Muitas vezes, a quantidade de dados faz com que seja dif√≠cil enxergar comportamentos/padr√µes dos mesmos.

. . .

Uma ferramenta muito √∫til √© a distribui√ß√£o de frequ√™ncias.

. . .

A distribui√ß√£o de frequ√™ncias:

::: incremental
-   associa os valores da vari√°vel com a frequ√™ncia com que foram observados na amostra;
-   permite evidenciar quais valores ocorrem com maior (ou menor) frequ√™ncia;
-   evidencia caracter√≠sticas da vari√°vel como: simetria; multimodalidade; etc.
:::

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias absolutas

::: panel-tabset
## Defini√ß√£o

Seja $x_1\ldots, x_n$ uma amostra de tamanho $n$ de uma vari√°vel $X$. Sejam $x_1^*, \ldots, x_k^*$ os $k$ valores distintos da amostra, onde, normalmente $k\leq n$.

**Frequ√™ncia (absoluta):** √© o n√∫mero de repeti√ß√µes $n_i$ apresentado pelo valor $x_i^*$ na amostra, com $i = 1, \ldots, k$.

::: columns
::: {.column width="65%"}
A distribui√ß√£o de frequ√™ncias absoluta de $X$ √© definida pela tabela ao lado.

::: fragment
Quando poss√≠vel, os valores distintos devem ser apresentados em ordem crescente, isto √©, $x_1^* \leq \ldots \leq x_k^*$.
:::
:::

::: {.column width="35%"}
::: table-with-total-row
```{=latex}
\begin{table}\centering
\begin{tabular}{cc}
Vari√°vel       & Frequ√™ncia   \\ \hline
$x_1^*$        &$n_1$         \\
$\vdots$       &$\vdots$      \\
$x_k^*$        &$n_k$         \\
\textbf{Total} & $\sum_in_i$  \\
\end{tabular}
\end{table}
```
:::
:::
:::

## Exemplo - Dados

```{r}
set.seed(54321)
library(dplyr)
library(knitr)
library(kableExtra)
library(DT)
dia_util <- c(rep("Sim", 50), rep("N√£o", 20))
aS <- round(rpois(n = 50, lambda = 8^2)/8)
aN <- rpois(n = 20, lambda = 1)
atendimentos <- c(aS, aN)
df <- data.frame("Dia √ötil" = dia_util, "Atendimentos" = factor(atendimentos, levels = 0:max(atendimentos)))
df %>%
  datatable(colnames = c("Dia √ötil", "Atendimentos"), rownames = FALSE, class = 'nowrap',
            options = list(lengthChange=FALSE, pageLength=5,
                           language=list(url='//cdn.datatables.net/plug-ins/2.0.2/i18n/pt-BR.json')))
```

## Exemplo - Distribui√ß√µes

::: columns
::: {.column width="55%"}
::: fragment
```{r}
kable(data.frame(names(table(df[,1])), as.numeric(table(df[,1]))),
      row.names = F, col.names=c('Dia √ötil', 'Frequ√™ncia'))
```
:::

<p>

</p>

::: fragment
```{r, render=TRUE}
df0 <- data.frame(Frequencia = 'Frequ√™ncia', Atendimentos = factor(df$Atendimentos, levels = 0:max(atendimentos)))
tbl <- tbl_summary(data = df0, by = Atendimentos, missing = "no",
                   label = list(Atendimentos ~ "Atendimentos"),
                   statistic = all_categorical() ~ "{n}",
                   type = list(Atendimentos ~ "categorical"))
tbl <- modify_header(x = tbl, label ~ "**Atendimentos**", all_stat_cols() ~ "**{level}**")
tbl <- modify_table_styling(tbl, columns = everything(), text_format = "indent",
                            undo_text_format = TRUE)
tbl <- modify_table_styling(tbl, columns = everything(), align = "center")
tbl <- modify_footnote(tbl, all_stat_cols() ~ NA)
# tbl <- modify_spanning_header(tbl, all_stat_cols() ~ "**Atendimentos**")
tbl <- remove_row_type(tbl, Frequencia, type = "header")
# # show_header_names(tbl)
tbl %>% bold_levels() %>% bold_labels() %>% as_gt() %>%
  # cols_width(label ~ "180px", all_stat_cols() ~ "50px") %>%
  tab_op()
```
:::
:::

::: {.column width="45%"}
::: fragment
```{r, render=TRUE}
tbl <- tbl_summary(data = df, by = Atendimentos, missing = "no",
                   label = list(Dia.√ötil ~ "", Atendimentos ~ "Atendimentos"),
                   statistic = all_categorical() ~ "{n}",
                   type = list(Dia.√ötil ~ "categorical", Atendimentos ~ "categorical"))
tbl <- modify_header(x = tbl, label = "**Dia √ötil**", all_stat_cols() ~ "**{level}**")
tbl <- modify_table_styling(tbl, columns = everything(), text_format = "indent",
                            undo_text_format = TRUE)
tbl <- modify_table_styling(tbl, columns = everything(), align = "center")
tbl <- modify_footnote(tbl, all_stat_cols() ~ NA)
tbl <- modify_spanning_header(tbl, all_stat_cols() ~ "**Atendimentos**")
tbl <- remove_row_type(tbl, Dia.√ötil, type = "header")
# show_header_names(tbl)
tbl %>% bold_levels() %>% bold_labels() %>% as_gt() %>%
  # cols_width(label ~ px(130), all_stat_cols() ~ px(50)) %>%
  tab_op()
```
:::
:::
:::
:::

##  {.unnumbered .unlisted}

### Distribui√ß√£o de frequ√™ncias relativas

::: panel-tabset
## [Defini√ß√£o]{style="font-size:80%"}

::: {style="font-size:80%"}
Na √∫ltima tabela, vimos que o n√∫mero de ocorr√™ncias nos subgrupos `Dia √ötil = N√£o` e `Dia √ötil = Sim` s√£o diferentes.

::: fragment
[**Importante:**]{style="color: red;"} Nesses casos, a compara√ß√£o entre subgrupos √© comprometida.
:::

::: fragment
Nesse caso, devemos usar as frequ√™ncias relativas: $$
f_i = \frac{n_i}{n},
$$ em que $n_i$ √© a frequ√™ncia (absoluta) do $i$-√©simo valor e $n$ √© o tamanho da amostra.
:::

::: fragment
[**Observa√ß√£o:**]{style="color: blue;"} As frequ√™ncias relativas podem ser apresentadas em percentual.
:::
:::

## [Exemplo anterior]{style="font-size:80%"}

::: {style="font-size:70%"}
::: columns
::: {.column width="45%"}
```{r, render=TRUE}
#| tbl-cap: Frequ√™ncias absolutas
tbl <- tbl_summary(data = df, by = Atendimentos, missing = "no",
                   label = list(Dia.√ötil ~ "", Atendimentos ~ "Atendimentos"),
                   statistic = all_categorical() ~ "{n}",
                   type = list(Dia.√ötil ~ "categorical", Atendimentos ~ "categorical"))
tbl <- modify_header(x = tbl, label = "**Dia √ötil**", all_stat_cols() ~ "**{level}**")
tbl <- modify_table_styling(tbl, columns = everything(), text_format = "indent",
                            undo_text_format = TRUE)
tbl <- modify_table_styling(tbl, columns = everything(), align = "center")
tbl <- modify_footnote(tbl, all_stat_cols() ~ NA)
tbl <- modify_spanning_header(tbl, all_stat_cols() ~ "**Atendimentos**")
tbl <- remove_row_type(tbl, Dia.√ötil, type = "header")
# show_header_names(tbl)
tbl %>% bold_levels() %>% bold_labels() %>% as_gt() %>%
  # cols_width(label ~ px(130), all_stat_cols() ~ px(50)) %>%
  tab_op()
```
:::

::: {.column width="55%"}
```{r, render=TRUE}
#| tbl-cap: Frequ√™ncias relativas (%)
tbl <- tbl_summary(data = df, by = Atendimentos, missing = "no",
                   label = list(Dia.√ötil ~ "", Atendimentos ~ "Atendimentos"),
                   statistic = all_categorical() ~ "{p}", percent = "row",
                   digits = all_categorical() ~ 0,
                   type = list(Dia.√ötil ~ "categorical", Atendimentos ~ "categorical"))
tbl <- modify_header(x = tbl, label = "**Dia √ötil**", all_stat_cols() ~ "**{level}**")
tbl <- modify_table_styling(tbl, columns = everything(), text_format = "indent",
                            undo_text_format = TRUE)
tbl <- modify_table_styling(tbl, columns = everything(), align = "center")
tbl <- modify_footnote(tbl, all_stat_cols() ~ NA)
tbl <- modify_spanning_header(tbl, all_stat_cols() ~ "**Atendimentos**")
tbl <- remove_row_type(tbl, Dia.√ötil, type = "header")
# show_header_names(tbl)
tbl %>% bold_levels() %>% bold_labels() %>% as_gt() %>%
  # cols_width(vars(label) ~ px(500), starts_with("stat") ~ px(100)) %>%
  tab_op()
```
:::
:::

Algumas observa√ß√µes importantes:

::: incremental
-   Note que os totais da distribui√ß√£o de frequ√™ncias relativas correspondem a 100%;
-   Isso significa [distribui√ß√£o dos atendimentos por dia √∫til]{style="color:red;"};
-   Caso necess√°rio, poder√≠amos calcular os percentuais por coluna. Nesse caso, ter√≠amos a [distribui√ß√£o do dia √∫til por atendimentos]{style="color:red;"}.
:::
:::
:::

##  {.unnumbered .unlisted}

### Distribui√ß√£o de frequ√™ncias intervalares

Nos casos em que temos pouca (ou nenhuma) repeti√ß√£o de valores, a distribui√ß√£o de frequ√™ncias n√£o traz informa√ß√£o relevante.

::: fragment
Normalmente, esse fen√¥meno ocorre em vari√°veis quantitativas cont√≠nuas, mas tamb√©m pode ocorrer nas discretas.
:::

::: fragment
[**Alternativa:**]{style="color: blue;"} Considerar a frequ√™ncia de **faixas** de valores, em vez dos valores propriamente ditos.
:::

##  {.unnumbered .unlisted}

### Distribui√ß√£o de frequ√™ncias intervalares - II

[**O que s√£o?**]{style="color: blue;"} As faixas s√£o subintervalos, cuja uni√£o compreende todos valores observados da vari√°vel em quest√£o e cuja as interse√ß√µes 2 a 2 s√£o vazias.

::: fragment
**Observa√ß√µes:**

1.  A defini√ß√£o acima garante que todos valores observados perten√ßam **a uma e apenas uma** faixa;
2.  As faixas tamb√©m podem ser denominadas de **classes**.
:::

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - III

[**Constru√ß√£o:**]{style="color: blue;"} Dada uma amostra $x_1, \ldots, x_n$ de tamanho $n$, para a constru√ß√£o de $k$ faixas $I_1, \ldots, I_k$, devemos:

::: incremental
1.  escolher $a_0 < a_k$, tais que $a_0 \leq x_1, \ldots, x_n \leq a_k$ [(intervalo abrangendo todos os dados)]{style="color: red;"};
2.  determinar $a_1 < \ldots < a_{k-1} \in (a_0, a_k)$ [(limites das faixas)]{style="color: red;"};
3.  tomar $$I_1 = [a_0, a_1] \ \ \text{e} \ \ I_j = (a_{j-1}, a_j], \ \ j = 2, \ldots, k.$$
:::

![](figs/construcao_classes_f6.png){fig-align="center"}

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - III

[**Constru√ß√£o:**]{style="color: blue;"} Dada uma amostra $x_1, \ldots, x_n$ de tamanho $n$, para a constru√ß√£o de $k$ faixas $I_1, \ldots, I_k$, devemos:

1.  escolher $a_0 < a_k$, tais que $a_0 \leq x_1, \ldots, x_n \leq a_k$ [(intervalo abrangendo todos os dados)]{style="color: red;"};
2.  determinar $a_1 < \ldots < a_{k-1} \in (a_0, a_k)$ [(limites das faixas)]{style="color: red;"};
3.  tomar $$I_1 = [a_0, a_1] \ \ \text{e} \ \ I_j = (a_{j-1}, a_j], \ \ j = 2, \ldots, k.$$

![](figs/construcao_classes_f5.png){fig-align="center"}

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - III

[**Constru√ß√£o:**]{style="color: blue;"} Dada uma amostra $x_1, \ldots, x_n$ de tamanho $n$, para a constru√ß√£o de $k$ faixas $I_1, \ldots, I_k$, devemos:

1.  escolher $a_0 < a_k$, tais que $a_0 \leq x_1, \ldots, x_n \leq a_k$ [(intervalo abrangendo todos os dados)]{style="color: red;"};
2.  determinar $a_1 < \ldots < a_{k-1} \in (a_0, a_k)$ [(limites das faixas)]{style="color: red;"};
3.  tomar $$I_1 = [a_0, a_1] \ \ \text{e} \ \ I_j = (a_{j-1}, a_j], \ \ j = 2, \ldots, k.$$

![](figs/construcao_classes_f4.png){fig-align="center"}

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - III

[**Constru√ß√£o:**]{style="color: blue;"} Dada uma amostra $x_1, \ldots, x_n$ de tamanho $n$, para a constru√ß√£o de $k$ faixas $I_1, \ldots, I_k$, devemos:

1.  escolher $a_0 < a_k$, tais que $a_0 \leq x_1, \ldots, x_n \leq a_k$ [(intervalo abrangendo todos os dados)]{style="color: red;"};
2.  determinar $a_1 < \ldots < a_{k-1} \in (a_0, a_k)$ [(limites das faixas)]{style="color: red;"};
3.  tomar $$I_1 = [a_0, a_1] \ \ \text{e} \ \ I_j = (a_{j-1}, a_j], \ \ j = 2, \ldots, k.$$

![](figs/construcao_classes_f3.png){fig-align="center"}

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - III

[**Constru√ß√£o:**]{style="color: blue;"} Dada uma amostra $x_1, \ldots, x_n$ de tamanho $n$, para a constru√ß√£o de $k$ faixas $I_1, \ldots, I_k$, devemos:

1.  escolher $a_0 < a_k$, tais que $a_0 \leq x_1, \ldots, x_n \leq a_k$ [(intervalo abrangendo todos os dados)]{style="color: red;"};
2.  determinar $a_1 < \ldots < a_{k-1} \in (a_0, a_k)$ [(limites das faixas)]{style="color: red;"};
3.  tomar $$I_1 = [a_0, a_1] \ \ \text{e} \ \ I_j = (a_{j-1}, a_j], \ \ j = 2, \ldots, k.$$

![](figs/construcao_classes_f2.png){fig-align="center"}

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - III

[**Constru√ß√£o:**]{style="color: blue;"} Dada uma amostra $x_1, \ldots, x_n$ de tamanho $n$, para a constru√ß√£o de $k$ faixas $I_1, \ldots, I_k$, devemos:

1.  escolher $a_0 < a_k$, tais que $a_0 \leq x_1, \ldots, x_n \leq a_k$ [(intervalo abrangendo todos os dados)]{style="color: red;"};
2.  determinar $a_1 < \ldots < a_{k-1} \in (a_0, a_k)$ [(limites das faixas)]{style="color: red;"};
3.  tomar $$I_1 = [a_0, a_1] \ \ \text{e} \ \ I_j = (a_{j-1}, a_j], \ \ j = 2, \ldots, k.$$

![](figs/construcao_classes_f1.png){fig-align="center"}

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - IV

[**Observa√ß√µes:**]{style="color:blue;"}

::: incremental
1.  Note que $$\bigcup_{j=1}^kI_j = [a_0, a_k] \ \ \ \text{e} \ \ \ I_j\cap I_l = \emptyset, \ \forall i,j = 1,\ldots,k;$$
2.  Sempre que poss√≠vel, utilizar amplitudes iguais! Isto √©, para $k$ fixo, fazer $h=\frac{a_k-a_0}{k}$ e $$I_1 = [a_0, a_0+h], \ \ I_2 = [a_0+h, a_0+2h], \ \ \ldots, \ \ I_1 = [a_0 + (k-1)h, a_0+kh];$$
3.  Para o c√°lculo acima, precisamos do n√∫mero de faixas $k$, Sturges (1926) sugere tomar $k = 1 + \text{3,322}\log_{10}(n)$, em que $n$ √© o tamanho da amostra.
:::

::: fragment
::: {.callout-note icon="false"}
## Bibliografia

üìö Sturges, H. A. (1926). The choice of a class interval. *Journal of the american statistical association*, 21(153), 65-66.
:::
:::

##  {.unnumbered .unlisted .smaller}

### Distribui√ß√£o de frequ√™ncias intervalares - V

H√° casos que o fen√¥meno imp√µe a necessidade de escolha de faixas desiguais.

::: fragment
[**Problema:**]{style="color:red;"} Nesses casos, a amplitude da faixa tem influencia na sua frequ√™ncia. [Por exemplo, faixas muito grandes podem apresentar frequ√™ncia muito alta, n√£o pela regi√£o ter pontos muito frequentes, mas pelo fato de a regi√£o ser maior]{.fragment}
:::

::: fragment
[**Alternativa:**]{style="color:blue;"} Utilizar a [densidade]{.underline} de frequ√™ncia relativa. [A densidade da $j$-√©sima faixa √© definida por $$d_i = \frac{f_i}{h_i},$$em que $h_i = a_i-a_{i-1}$ √© a amplitude da referida faixa.]{.fragment}
:::

::: fragment
**Observa√ß√£o:** A densidade pode ser interpretada como a quantidade de frequ√™ncia relativa por unidade da vari√°vel na respectiva faixa.
:::

##  {.unnumbered .unlisted .smaller}

### Exemplo

Exemplo de uma distribui√ß√£o de frequ√™ncias intervalar de dados fict√≠cios:

{{< include tab_exemplo.html >}}

::: fragment
[**Observa√ß√£o:**]{style="color: blue;"} A mesma frequ√™ncia relativa 0,2 da faixa $(1,2]$:
:::

::: incremental
-   corresponde a 0,05 por unidade de renda ($d_3 = \text{0,05}$) em $(2,6]$, ou seja, [fica menos concentrada nessa faixa]{style="color: red;"};
-   corresponde a 0,025 por unidade de renda ($d_4 = \text{0,025}$) em $(6,14]$, ou seja, [fica **ainda** menos concentrada nessa faixa]{style="color: red;"};
:::

##  {.unnumbered .unlisted .smaller}

### Gr√°ficos - Vari√°veis Quantitativas

::: panel-tabset
## Gr√°fico de Barras

No caso de distribui√ß√µes [n√£o intervalares]{.underline}, utilizamos o gr√°ficos de barras (verticais), tamb√©m de chamado de colunas.

[**Constru√ß√£o:**]{style="color: blue;"}

::: incremental
1.  Desenhamos o plano cartesiano;
2.  No eixo horizontal s√£o posicionados os valores da vari√°vel;
3.  A distribui√ß√£o √© representada por ret√¢ngulos com alturas dadas pelas frequ√™ncias relativas, posicionados sobre os respectivos valores.
:::

::: fragment
[**Observa√ß√µes:**]{style="color: blue;"}
:::

::: incremental
1.  Os ret√¢ngulos devem ter bases iguais e devem ser separados por dist√¢ncias iguais.
2.  Devemos apresentar Valores intermedi√°rios com frequ√™ncia zero.
3.  Pode ser utilizado para qualitativas ordinais [(para nominais usamos o gr√°fico de setores, ou de pizza)]{style="color:red; "}
:::

## Histograma

No caso de distribui√ß√µes [intervalares]{.underline}, utilizamos o histograma.

[**Constru√ß√£o:**]{style="color: blue;"}

::: incremental
1.  Desenhamos o plano cartesiano;
2.  No eixo horizontal s√£o posicionadas as faixas de valores da vari√°vel;
3.  A distribui√ß√£o √© representada por ret√¢ngulos com alturas dadas pelas densidades, posicionados sobre as respectivas faixas.
:::

::: fragment
[**Observa√ß√µes:**]{style="color: blue;"}
:::

::: incremental
1.  Parecido com o gr√°fico de barras, mas os ret√¢ngulos se tocam [(para ressaltar a continuidade)]{style="color:red;"};
2.  √Årea total dos gr√°ficos (soma das √°reas dos ret√¢ngulos √© sempre 1).
:::
:::

##  {.unnumbered .unlisted .smaller}

### Exemplo - Distribui√ß√£o N√£o Intervalar

::: columns
::: {.column width="50%"}
```{r, render=TRUE}
barplot(prop.table(table(factor(atendimentos, levels = 0:max(atendimentos)))),
        ylab="Freq. relativa", xlab="Atendimentos")
```
:::

::: {.column width="50%"}
```{r, render=TRUE}
barplot(prop.table(table('Dia √ötil' = df[,1],
                         Atendimentos = factor(atendimentos, levels = 0:max(atendimentos))), margin = 1),
        ylab="Freq. relativa", xlab="Atendimentos", beside=TRUE, col=c('blue', 'red'))
legend('top', legend = c("N√£o", "Sim"), horiz = TRUE, fill = c('blue', 'red'))
```
:::
:::

##  {.unnumbered .unlisted .smaller}

### Exemplo - Distribui√ß√£o Intervalar

::: columns
::: {.column width="50%"}
```{r, render=TRUE, fig.width=6, fig.height=4}

brs <- c(0, 1, 2, 6, 14)
frs <- c(.4, .2, .2, .2)
dss <- frs/diff(brs)

plot(0, type='n', xlim=range(brs), ylim=c(0,max(frs, dss)), xlab='Renda',
     ylab='Frequ√™ncia', frame.plot=F, axes=T)
rect(xleft = brs[-5], ybottom = 0, xright = brs[-1], ytop = frs, col = 'gray')
```
:::

::: {.fragment .column width="50%"}
```{r, render=TRUE, fig.width=6, fig.height=4}

brs <- c(0, 1, 2, 6, 14)
frs <- c(.4, .2, .2, .2)
dss <- frs/diff(brs)

plot(0, type='n', xlim=range(brs), ylim=c(0,max(frs, dss)), xlab='Renda', ylab='Densidade',
     frame.plot=F, axes=T)
rect(xleft = brs[-5], ybottom = 0, xright = brs[-1], ytop = dss, col = 'gray')
```
:::
:::

##  {.unnumbered .unlisted .smaller}

### Exemplo - Distribui√ß√£o Intervalar

```{r, render=TRUE, fig.width=6, fig.height=4}

brs <- c(0, 1, 2, 6, 14)
frs <- c(.4, .2, .2, .2)
dss <- frs/diff(brs)

plot(0, type='n', xlim=range(brs), ylim=c(0,max(frs, dss)), xlab='Renda', ylab='Densidade',
     frame.plot=F, axes=T)
rect(xleft = brs[-5], ybottom = 0, xright = brs[-1], ytop = dss, col = 'gray')
```

##  {.unnumbered .unlisted .smaller}

### Exemplo - Distribui√ß√£o Intervalar

```{r, render=TRUE, fig.width=6, fig.height=4}

brs <- c(0, 1, 2, 6, 14)
frs <- c(.4, .2, .2, .2)
dss <- frs/diff(brs)

plot(0, type='n', xlim=range(brs), ylim=c(0,max(frs, dss)), xlab='Renda', ylab='Densidade',
     frame.plot=F, axes=T)
rect(xleft = brs[-5], ybottom = 0, xright = brs[-1], ytop = dss, col = 'gray')
rect(xleft = c(1.5, 2), ybottom = 0, xright = c(2, 3), ytop = dss[2:3], col = 'orange', border = NA)
lines(x=c(1.5, 1.5), y = c(0, dss[2]), lty='dotted')
lines(x=c(3, 3), y = c(0, dss[3]), lty='dotted')
lines(x=c(1.5, 2, 2, 1.5), y = c(dss[2], dss[2], 0, 0))
lines(x=c(3, 2, 2, 3), y = c(0, 0, dss[3], dss[3]))
```

##  {.unnumbered .unlisted .smaller}

### Exemplo - Distribui√ß√£o Intervalar

```{r, render=TRUE, fig.width=6, fig.height=4}

brs <- c(0, 1, 2, 6, 14)
frs <- c(.4, .2, .2, .2)
dss <- frs/diff(brs)

plot(0, type='n', xlim=range(brs), ylim=c(0,max(frs, dss)), xlab='Renda', ylab='Densidade',
     frame.plot=F, axes=T)
rect(xleft = brs[-5], ybottom = 0, xright = brs[-1], ytop = dss, col = 'gray')
rect(xleft = c(1.5, 2), ybottom = 0, xright = c(2, 3), ytop = dss[2:3], col = 'orange', border = NA)
lines(x=c(1.5, 1.5), y = c(0, dss[2]), lty='dotted')
lines(x=c(3, 3), y = c(0, dss[3]), lty='dotted')
lines(x=c(1.5, 2, 2, 1.5), y = c(dss[2], dss[2], 0, 0))
lines(x=c(3, 2, 2, 3), y = c(0, 0, dss[3], dss[3]))
arrows(x0 = 6, y0 = .2, x1 = 2.2, y1 = .025, length = .07)
text(x = 6, y = .2, labels = "Frequ√™ncia estimada em (1.5, 3]", pos=4)
```

## Medidas Descritivas

Muitas vezes, desejamos evidenciar algumas caracter√≠sticas dos dados por meio de medidas num√©ricas.

::: fragment
Dada uma amostra $x_1, \ldots, x_n$, utilizar uma fun√ß√£o $t(x_1, \ldots, x_n)$ para quantificar algum comportamento dos dados.
:::

::: fragment
As principais caracter√≠sticas s√£o:
:::

::: incremental
-   tend√™ncia central da vari√°vel [$\Rightarrow$ [Exemplos: m√©dia, mediana e moda;]{style="color:red; "}]{.fragment}
-   dispers√£o da vari√°vel [$\Rightarrow$ [Exemplos: vari√¢ncia e desvio-padr√£o.]{style="color:red; "}]{.fragment}
:::

##  {.unnumbered .unlisted}

### Medidas de Tend√™ncia Central

Buscam indicar um valor "t√≠pico" ou "representativo" dos dados em quest√£o;

::: fragment
O que seria valor "t√≠pico"?
:::

::: incremental
-   ponto de equil√≠brio dos dados [$\Rightarrow$ [m√©dia (aritm√©tica);]{style="color:red; "}]{.fragment}
-   ponto central dos dados [$\Rightarrow$ [mediana;]{style="color:red; "}]{.fragment}
-   ponto de alta frequ√™ncia [$\Rightarrow$ [moda;]{style="color:red; "}]{.fragment}
:::

##  {.unnumbered .unlisted .smaller}

### M√©dia (Aritm√©tica)

Dadas $n$ observa√ß√µes $x_1, \ldots, x_n$ de uma vari√°vel quantitativa, a sua m√©dia (aritm√©tica) √© definida por $$\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i.$$

::: {.columns .v-center-container}
::: {.column width="65%"}
Se os dados est√£o na forma de distribui√ß√£o de frequ√™ncias n√£o intervalar [como a do lado]{.fragment .highlight-current-red fragment-index="1"}[, podemos utilizar uma das seguintes express√µes:]{.fragment fragment-index="2"}

::: {.fragment fragment-index="2"}
$$
\bar{x} = \frac{1}{n}\sum_{i=1}^k x_i^*n_i = \sum_{i=1}^k x_i^*f_i.
$$
:::

::: {.fragment fragment-index="3"}
[**Observa√ß√£o:**]{style="color:blue; "} A √∫ltima express√£o √© conhecida como m√©dia ponderada com pesos $f_i$.
:::
:::

::: {.column width="35%"}
::: {.fragment fragment-index="1"}
::: {.table-with-total-row .fragment .highlight-current-red fragment-index="1" style="font-size:70%; "}
```{=latex}
\begin{table}\centering
\begin{tabular}{ccc}
Vari√°vel       & $n_i$         & $f_i$        \\ \hline
$x_1^*$        & $n_1$         & $f_1$        \\
$\vdots$       & $\vdots$      & $\vdots$     \\
$x_k^*$        & $n_k$         & $f_k$        \\
\textbf{Total} & $\sum_in_i=n$ & $\sum_if_i=1$\\
\end{tabular}
\end{table}
```
:::
:::
:::
:::

##  {.unnumbered .unlisted}

### M√©dia (Aritm√©tica)

![](figs/ilustracao_media_pto_equilibrio_f1.png)

##  {.unnumbered .unlisted}

### M√©dia (Aritm√©tica)

![](figs/ilustracao_media_pto_equilibrio_f2.png)

##  {.unnumbered .unlisted}

### M√©dia (Aritm√©tica)

![](figs/ilustracao_media_pto_equilibrio_f3.png)

##  {.unnumbered .unlisted}

### M√©dia (Aritm√©tica)

![](figs/ilustracao_media_pto_equilibrio_f4.png)

##  {.unnumbered .unlisted}

### M√©dia (Aritm√©tica)

E se os dados estivessem representados apenas por meio de distribui√ß√µes intervalares? [[Nesse caso n√£o temos mais acesso as "observa√ß√µes originais"!]{.fragment .highlight-current-red fragment-index="1"}]{.fragment fragment-index="1"}

::: fragment
[**Alternativa:**]{style="color:blue; "} Substituir todas observa√ß√µes de uma faixa pelo seu respectivo ponto m√©dio.
:::

::: fragment
**Defini√ß√£o:** Dada a $i$-√©sima faixa $(a_{i-1}, a_i]$, o seu ponto m√©dio √© definido por $x_i^{(m)} = \frac{a_{i-1} + a_i}{2}$ e m√©dia √© aproximada por $$\bar{x} \approx \frac{1}{n}\sum_{i=1}^kx_i^{(m)}n_i = \sum_{i=1}^kx_i^{(m)}f_i.$$
:::

##  {.unnumbered .unlisted}

### M√©dia (Aritm√©tica)

::: {.fragment fragment-index="3"}
Pela tabela abaixo vemos que $\sum_ix_i^{(m)} = 165$. [Logo, a m√©dia √© aproximada por $\bar{x} \approx 165/50 = \text{3,3}$.]{.fragment fragment-index="4"}
:::

{{< include tab_exemplo_cont1.html >}}

##  {.unnumbered .unlisted}

### M√©dia (Aritm√©tica)

Algumas observa√ß√µes sobre a m√©dia:

::: incremental
-   tem propriedades "boas";
-   √© influenciada por valores at√≠picos;
-   n√£o recomendada em dados assim√©tricos;
-   s√≥ √© calculada em vari√°veis quantitativas;
-   no caso intervalar $\downarrow k \Rightarrow$ piora a aproxima√ß√£o da m√©dia.
:::

##  {.unnumbered .unlisted}

### Vari√¢ncia

O uso de medidas de tend√™ncia central para representar a localiza√ß√£o dos dados pode ocultar informa√ß√µes relevantes.

##  {.unnumbered .unlisted}

### Vari√¢ncia

O uso de medidas de tend√™ncia central para representar a localiza√ß√£o dos dados pode ocultar informa√ß√µes relevantes.

![](figs/media_nao_traz_todas_info_f1.png)

##  {.unnumbered .unlisted}

### Vari√¢ncia

O uso de medidas de tend√™ncia central para representar a localiza√ß√£o dos dados pode ocultar informa√ß√µes relevantes.

![](figs/media_nao_traz_todas_info_f2.png)


##  {.unnumbered .unlisted}

### Vari√¢ncia

[**Exemplo:**]{style="color:blue; "} A m√©dia n√£o nos fala nada sobre a dispers√£o (variabilidade) dos dados.

##  {.unnumbered .unlisted}

### Vari√¢ncia

[**Exemplo:**]{style="color:blue; "} A m√©dia n√£o nos fala nada sobre a dispers√£o (variabilidade) dos dados.

![](figs/media_nao_traz_info_da_dispersao_f1.png)

##  {.unnumbered .unlisted}

### Vari√¢ncia

[**Exemplo:**]{style="color:blue; "} A m√©dia n√£o nos fala nada sobre a dispers√£o (variabilidade) dos dados.

![](figs/media_nao_traz_info_da_dispersao_f2.png)

##  {.unnumbered .unlisted}

### Vari√¢ncia

[**Ideia:**]{style="color:blue; "} Medir quanto as observa√ß√µes se distanciam "em m√©dia" de alguma medida de tend√™ncia central de refer√™ncia[, como a m√©dia dos dados]{.fragment}



##  {.unnumbered .unlisted}

### Desvio-padr√£o
